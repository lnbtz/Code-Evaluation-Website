<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="https://unpkg.com/htmx.org@1.9.10"
        integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC" 
        crossorigin="anonymous">
        </script>
        <script>
            htmx.defineExtension('submitJsonForEvaluateCode', {
                onEvent: function (name, evt) {
                if (name === "htmx:configRequest") {
                    evt.detail.headers['Content-Type'] = "application/json"
                }
                },
                encodeParameters: function(xhr, parameters, elt) {
                xhr.overrideMimeType('text/json') // override default mime type
                const body = { // set your request body
                    code: parameters.code,
                    file_type: parameters.file_type,
                    rule: Array.from(document.querySelectorAll('input[type=checkbox]:checked')).map(checkbox => checkbox.value)
                }
                return (JSON.stringify(body))
                }
            })    
        </script>
        <link rel="stylesheet" href="/styles.css">
        </link>
        <title>
            {% block title %}{{ title }} - My Site{% endblock %}
        </title>
        {% block head %}{% endblock %}
    </head>
    <body>
        <div id="content">
            {% block content %}<p>Placeholder content</p>{% endblock %}
        </div>
        <!-- <img loading="lazy" src="/image.png" alt="..." /> -->
    </section>
</html>